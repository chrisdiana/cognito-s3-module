<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="">
  <title>Cognito S3</title>
</head>

<body>

  <div id="app">

    <p><b>AWS COGNITO CREDENTIALS</b></p>
    <label>Email</label>
    <input type="text" v-model="credentials.email" placeholder="Email"/>
    <label>Password</label>
    <input type="password" v-model="credentials.password"/>

    <button @click="login">Authenticate</button>
    <button @click="reset">Reset</button>

    <hr>

    <p><b>AWS S3 SETTINGS</b></p>
    <label>Bucket</label>
    <input type="text" v-model="bucket" placeholder="Bucket name" width="500"/>
    <div v-if="key">
      <label>Key</label>
      <input type="text" v-model="key" placeholder="Key" width="500"/>
    </div>

    <p>S3 PATH: s3://{{ bucket + '/' + (key ? key : '') }}</p>

    <hr>

    <b>UPLOAD FILE</b>
    <input id="file-input" type="file" @change="uploadFiles(event)"/>
    <br>

    <hr>

    <b>GET FILE</b>
    <button @click="getFileObject">Get Object</button>
    <br>

    <hr>

    <b>GET OBJECT LIST</b>
    <button @click="getObjectsList">Trigger</button>
    <br>

    <hr>

    <b>LAMBDA</b>
    <button @click="triggerLambda">Trigger</button>
    <br>

    <hr>

    <div style="overflow:scroll">
      <pre class="error" style="color:red">ERROR: {{ error }}</pre>
      <pre>SUCCESS: {{ success }}</pre>
      <pre>AUTH: {{ auth }}</pre>
    </div>
  </div>

  <script src="//cdnjs.cloudflare.com/ajax/libs/vue/2.6.7/vue.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/aws-sdk/2.410.0/aws-sdk.min.js"></script>
  <script src="lib/aws-cognito-sdk.min.js"></script>
  <script src="lib/amazon-cognito-identity.min.js"></script>
  <script src="script.js" type="module"></script>
</body>
</html>
